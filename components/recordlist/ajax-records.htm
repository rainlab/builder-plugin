{% set records = __SELF__.records %}
{% set displayColumn = __SELF__.displayColumn %}
{% set noRecordsMessage = __SELF__.noRecordsMessage %}
{% set detailsPage = __SELF__.detailsPage %}
{% set detailsKeyColumn = __SELF__.detailsKeyColumn %}
{% set detailsUrlParameter = __SELF__.detailsUrlParameter %}

{% for record in records %}
    <li>
        {# Use spaceless tag to remove spaces inside the A tag. #}
        {% spaceless %}
            {% if detailsPage %}
                <a href="{{ detailsPage|page({ (detailsUrlParameter): attribute(record, detailsKeyColumn) }) }}">
            {% endif %}

            {{ attribute(record, displayColumn) }}

            {% if detailsPage %}
                </a>
            {% endif %}
        {% endspaceless %}
    </li>
{% else %}
    <li class="no-data">{{ noRecordsMessage }}</li>
{% endfor %}
